<% pageTitle="Would you like to give this application a reference?" %>

<div class="inner_header <% if (!user_data.loggedIn){ %>no-user-signed-in<% } %>">
    <a href="/upload-files" class="back-to-previous govuk-link">Back</a>
    <%- partial('../partials/inner-header')%>
</div>

    <%if (referenceErrors.length > 0) { %>
        <div class="govuk-error-summary" aria-labelledby="error-summary-title" role="alert" tabindex="-1"
            data-module="govuk-error-summary">
            <h2 class="govuk-error-summary__title" id="error-summary-title">
                There is a problem
            </h2>
            <div class="govuk-error-summary__body">
                <ul class="govuk-list govuk-error-summary__list">
                    <% for(let referenceError of referenceErrors) {%>
                        <li>
                            <a href="#user-reference"><%= referenceError %></a>
                        </li>
                    <%}%>
                </ul>
            </div>
        </div>
        <%}%>

<div class="column-two-thirds" data-module="govuk-character-count" data-maxlength="30">
    <form action="/additional-reference" method="post" novalidate>
        <div<%if (inputError) { %> class="govuk-form-group--error"<%}%>>
        <h1 class="govuk-label-wrapper">
            <label class="govuk-label heading-large govuk-!-margin-top-0" for="user-reference">
                Would you like to give this application a reference (optional)?
            </label>
        </h1>
        <div class="govuk-form-group govuk-!-margin-bottom-1">
            <div id="user-reference-hint" class="govuk-hint">
                If you wish to add an internal reference to help with your own records, such as a case number or name,
                then you can enter it here.
            </div>
            <%if (referenceErrors.length > 0) { %>
                <span id="full-name-input-error" class="govuk-error-message">
                    <span class="govuk-visually-hidden">Error:</span> <%= referenceErrors[0] %>
                </span>
            <%}%>
            <input class="govuk-input govuk-js-character-count<%if (referenceErrors.length > 0) { %> govuk-input--error<%}%>" id="user-reference" value="<%= userRef %>" name="user-reference" type="text"
                aria-describedby="user-reference-hint" data-form-type="other">
        </div>
        <div id="user-reference-info" class="govuk-hint govuk-character-count__message govuk-!-margin-bottom-4 govuk-!-margin-top-2" aria-live="polite">
            You can enter up to 30 characters
        </div>
        </div>
        <button class="govuk-button" data-module="govuk-button">
            Continue
        </button>
    </form>
</div>
